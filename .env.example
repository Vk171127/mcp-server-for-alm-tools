# Environment Configuration for ALM Traceability Server
# Copy this file to .env and fill in your actual credentials

# === Azure DevOps Configuration ===
ADO_ORGANIZATION=your-organization
ADO_PROJECT=your-project
ADO_PERSONAL_ACCESS_TOKEN=your-pat-token
ADO_BASE_URL=https://dev.azure.com

# === Jira Configuration ===
JIRA_BASE_URL=https://yourcompany.atlassian.net
JIRA_EMAIL=your-email@company.com
JIRA_API_TOKEN=your-jira-api-token
JIRA_PROJECT_KEY=YOUR-PROJECT

# === PostgreSQL/CloudSQL Database Configuration ===
DB_HOST=localhost
DB_PORT=5432
DB_NAME=alm_traceability
DB_USER=postgres
DB_PASSWORD=your-db-password
DB_SSL_MODE=require

# Connection pool settings
DB_MIN_CONNECTIONS=5
DB_MAX_CONNECTIONS=20
DB_COMMAND_TIMEOUT=60

# === CloudSQL Specific Settings (if using Google Cloud SQL) ===
# Uncomment and configure if using CloudSQL
# GOOGLE_CLOUD_PROJECT=your-project-id
# CLOUDSQL_INSTANCE=your-project:region:instance-name
# USE_CLOUD_SQL_PROXY=false

# === Google Cloud Authentication (if using CloudSQL) ===
# Option 1: Service Account Key File
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Option 2: Application Default Credentials (for local development)
# Use: gcloud auth application-default login

# === MCP Server Configuration ===
MCP_ALM_TYPE=azure_devops  # or "jira"
ENABLE_TRACEABILITY=true
AUTO_CREATE_LINKS=false

# === Logging Configuration ===
LOG_LEVEL=INFO
LOG_FILE=traceability.log

# === Example CloudSQL Connection String Format ===
# postgresql://username:password@/database?host=/cloudsql/project:region:instance
# or for TCP connection:
# postgresql://username:password@ip-address:5432/database?sslmode=require

# === Database Schema Management ===
# Set to true to automatically run schema.sql on startup (use with caution in production)
AUTO_MIGRATE_SCHEMA=false

# === Security Settings ===
# API Key for protecting endpoints (optional)
API_KEY=your-api-key-here
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com